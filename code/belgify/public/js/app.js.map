{"version":3,"sources":["base.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.js","sourcesContent":["$(document).ready(function(){\n    $('div.alert').not('.alert-important').delay(4000).slideUp(400);\n\n    $('body').on('hidden.bs.modal', '.modal', function () {\n        $(this).removeData('bs.modal');\n    });\n\n    $('body').on('shown.bs.modal', '.modal', function (e) {\n\n        $('#tag_list').select2({placeholder:'please, choose some keywords'});\n\n        var targetUrl;\n\n        if($(e.relatedTarget).attr('data-url')){\n            targetUrl = $(e.relatedTarget).attr('data-url');\n            console.log(targetUrl);\n        }\n        else{\n            targetUrl  = 0;\n        }\n\n        console.log(targetUrl);\n\n        $('#Form').submit(function(e){\n            postAjaxForm(e, $(this),  targetUrl);\n        });\n    });\n\n\n\n    function postAjaxForm(e, element, targetUrl) {\n        e.preventDefault();\n        $('.error-message').hide();\n        var $form = element;\n        $form.find('.form-group').removeClass('has-errors').find('.help-text').text('');\n        var url = $form.attr('action');\n\n        var formData = {};\n        $form.find('input').each(function () {\n            formData[$(this).attr('name')] = $(this).val();\n        });\n        $form.find('select').each(function () {\n            formData[$(this).attr('name')] = $(this).val();\n        });\n        $form.find('textarea').each(function () {\n            formData[$(this).attr('name')] = $(this).val();\n        });\n\n        $.ajax({\n            method: 'POST',\n            url: url,\n            data: formData,\n            success: function (data) {\n                console.log(data);\n                if ($.isArray(data)) {\n                    if(targetUrl){\n                        console.log(\"test\");\n                        window.location.replace(targetUrl)\n                    }\n                    else{\n                        console.log(\"0\");\n                        window.location.replace(data[0])\n                    }\n                }\n                else {\n                    $('.error-message').slideDown('fast');\n                }\n            },\n            error: function (data) {\n                if (data['responseJSON']) {\n                    associate_errors(data['responseJSON'], $form);\n                }\n            }\n        });\n    }\n\n    function associate_errors(errors, $form) {\n        //remove existing error classes and error messages from form groups\n\n        $.each(errors, function (index, errorArray) {\n            //find each form group, which is given a unique id based on the form field's name\n            var $group = $form.find('#' + index + '-group');\n\n            $.each(errorArray, function (index, value) {\n                $group.addClass('has-errors').find('.help-text').text(value);\n            })\n\n        });\n    }\n\n});\n\n\n\n"],"sourceRoot":"/source/"}